{
  "active": false,
  "connections": {
    "Link drive folder ch·ª©a video": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Add picture demo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Link drive folder ch·ª©a ·∫£nh": {
      "main": [
        [
          {
            "node": "Filter picture/multi picture",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ],
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Filter1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter": {
      "main": [
        [
          {
            "node": "Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter1": {
      "main": [
        [
          {
            "node": "Google Sheets1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets1": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Edit Fields10": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Edit Fields12": {
      "main": [
        [
          {
            "node": "Edit Fields10",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "5min/shot": {
      "main": [
        [
          {
            "node": "Link drive folder ch·ª©a video",
            "type": "main",
            "index": 0
          },
          {
            "node": "Link drive folder ch·ª©a ·∫£nh",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add picture demo": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter picture/multi picture": {
      "main": [
        [
          {
            "node": "Search multi picture",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search multi picture": {
      "main": [
        [
          {
            "node": "Convert link id",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert link id": {
      "main": [
        [
          {
            "node": "Aggregate multi picture",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate multi picture": {
      "main": [
        [
          {
            "node": "Edit Fields12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain1": {
      "main": [
        [
          {
            "node": "Google Sheets13",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Structured Output Parser": {
      "ai_outputParser": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "ai_outputParser",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Google Sheets12",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets12": {
      "main": [
        [
          {
            "node": "Filter2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter2": {
      "main": [
        [
          {
            "node": "Loop Over Items4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items4": {
      "main": [
        [],
        [
          {
            "node": "Basic LLM Chain1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets13": {
      "main": [
        [
          {
            "node": "Loop Over Items4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets2": {
      "main": [
        [
          {
            "node": "Filter4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Schedule Trigger1": {
      "main": [
        [
          {
            "node": "Google Sheets2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time": {
      "main": [
        [
          {
            "node": "Date & Time1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields7": {
      "main": [
        [
          {
            "node": "Date & Time",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter4": {
      "main": [
        [
          {
            "node": "Edit Fields7",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter5": {
      "main": [
        [
          {
            "node": "Filter6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time1": {
      "main": [
        [
          {
            "node": "Filter5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive1": {
      "main": [
        [
          {
            "node": "HTTP Request3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "(*) Credential Page 1": {
      "main": [
        [
          {
            "node": "Google Drive1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items2": {
      "main": [
        [],
        [
          {
            "node": "L·ª±a ch·ªçn shop ƒëƒÉng",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "(*) Credential Page 1 (ƒêƒÉng video)": {
      "main": [
        [
          {
            "node": "(*) Check tr·∫°ng th√°i video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "(*) Credential page 1 (ƒêƒÉng ·∫£nh)": {
      "main": [
        [
          {
            "node": "Google Sheets4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "(*) Check tr·∫°ng th√°i video": {
      "main": [
        [
          {
            "node": "Google Sheets3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets3": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "(*) Credential page 1 (ƒêƒÉng ·∫£nh)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets4": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Ph√¢n lo·∫°i ·∫£nh hay video": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "L·ª±a ch·ªçn shop ƒëƒÉng": {
      "main": [
        [
          {
            "node": "Ph√¢n lo·∫°i ·∫£nh hay video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter6": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Edit Fields8",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields8": {
      "main": [
        [
          {
            "node": "Split Out",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split Out": {
      "main": [
        [
          {
            "node": "Facebook Graph API4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Facebook Graph API4": {
      "main": [
        [
          {
            "node": "Edit Fields9",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields9": {
      "main": [
        [
          {
            "node": "Aggregate",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Facebook Graph API5": {
      "main": [
        [
          {
            "node": "Google Sheets5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Aggregate": {
      "main": [
        [
          {
            "node": "Facebook Graph API5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets5": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge2": {
      "main": [
        [
          {
            "node": "Loop Over Items2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "(*) Credential Page ": {
      "main": [
        [
          {
            "node": "Google Drive3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "(*) Credential Page ",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "(*) Credential Page 1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request3": {
      "main": [
        [
          {
            "node": "HTTP Request1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request8": {
      "main": [
        [
          {
            "node": "Google Sheets17",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Drive3": {
      "main": [
        [
          {
            "node": "(*) Credential Page 1 (ƒêƒÉng video)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets17": {
      "main": [
        [
          {
            "node": "Merge2",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "HTTP Request1": {
      "main": [
        [
          {
            "node": "HTTP Request8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-03-21T16:41:11.066Z",
  "id": "RfHaPsupzNhUxQDN",
  "meta": null,
  "name": "ƒêƒÉng b√†i Facebook",
  "nodes": [
    {
      "parameters": {
        "resource": "fileFolder",
        "returnAll": true,
        "filter": {
          "folderId": {
            "__rl": true,
            "value": "=https://drive.google.com/drive/folders/1VOLCx8uK7ff0kMqOAsiuLgoXKji15p67?usp=sharing",
            "mode": "url"
          }
        },
        "options": {
          "fields": [
            "*"
          ]
        }
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -180,
        40
      ],
      "id": "cd6f1c13-eec6-4c22-9a87-61d81a0d38a5",
      "name": "Link drive folder ch·ª©a video",
      "retryOnFail": true,
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "ffj1ktwFjvbRQW9V",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        0,
        0
      ],
      "id": "6891e89b-f1e9-4835-9230-77bb8e26c188",
      "name": "Loop Over Items"
    },
    {
      "parameters": {
        "resource": "fileFolder",
        "returnAll": true,
        "filter": {
          "folderId": {
            "__rl": true,
            "value": "=https://drive.google.com/drive/folders/1iHp_gRuZoAq0vwZmXrXTUb5lLvNCyqvJ?usp=sharing",
            "mode": "url"
          }
        },
        "options": {
          "fields": [
            "*"
          ]
        }
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        -180,
        200
      ],
      "id": "99b422d5-8015-495c-8ca9-d0be46434ba7",
      "name": "Link drive folder ch·ª©a ·∫£nh",
      "retryOnFail": true,
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "ffj1ktwFjvbRQW9V",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        160,
        320
      ],
      "id": "5974beb0-ff6a-48d9-8058-10081c3a966f",
      "name": "Loop Over Items1"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"·∫¢nh n·ªÅn\": \"=IMAGE(\\\"{{ $json.thumbnailLink }}\\\";4;50;50)\",\n  \"Link ·∫£nh\": \"{{ $json.webViewLink }}\",\n  \"Ng√†y c·∫≠p nh·∫≠t driver\": \"{{ $json.modifiedByMeTime }}\"\n}  ",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        320,
        320
      ],
      "id": "d9bad8a7-c23b-4767-8b24-8e37fdcdfaf4",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        980,
        160
      ],
      "id": "3d1e4c6d-1eec-4db3-a7ab-8a1bd4611650",
      "name": "Merge"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "=https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit?usp=sharing",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Dashboard",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1rHSoI-yfDsIjZ_AV70RTy3c7o4TQGss_1CA4Y1bKgRw/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "·∫¢nh n·ªÅn": "={{ $json['·∫¢nh n·ªÅn'] }}",
            "Link video": "={{ $json['Link video'] }}",
            "Ng√†y c·∫≠p nh·∫≠t driver": "={{ $json['Ng√†y c·∫≠p nh·∫≠t driver'] }}",
            "Link ·∫£nh": "=",
            "Promt": "B·∫°n l√† chuy√™n gia m·∫°ng x√£ h·ªôi v√† Emme l√† m·ªôt brand th·ªùi trang c√¥ng s·ªü. B·∫°n h√£y ph√¢n t√≠ch d·ª±a v√†o h√¨nh ·∫£nh ƒë√≠nh k√®m ƒë·ªÉ tr·∫£ v·ªÅ m·ªôt b√†i vi·∫øt tr√™n n·ªÅn t·∫£ng Facebook ph√π h·ª£p v·ªõi c√°c trang ph·ª•c trong h√¨nh c·ªßa Emme. B√†i vi·∫øt ng·∫Øn ng·ªçn v√† t·∫≠p trung v√†o c·∫£m x√∫c c·ªßa ng∆∞·ªùi ƒë·ªçc nh·∫ßm kh∆°i g·ª£i c√°c y·∫øu t·ªë c√≥ th·ªÉ d·∫´n ƒë·∫øn vi·ªác t√¨m hi·ªÉu s·∫£n ph·∫ßm k·ªπ h∆°n v√† ƒë∆∞a ra c√°c quy·∫øt ƒë·ªãnh mua h√†ng m√† kh√¥ng c·∫ßn ph·∫£i n√≥i qu√° nhi·ªÅu v·ªÅ s·∫£n ph·∫©m v√† qu·∫£ng c√°o th∆∞∆°ng hi·ªáu. ",
            "T·∫°o content": "T·∫°o content"
          },
          "matchingColumns": [
            "Link video"
          ],
          "schema": [
            {
              "id": "Link ·∫£nh",
              "displayName": "Link ·∫£nh",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Link video",
              "displayName": "Link video",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "·∫¢nh n·ªÅn",
              "displayName": "·∫¢nh n·ªÅn",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Acc FB Page",
              "displayName": "Acc FB Page",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Acc ins",
              "displayName": "Acc ins",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ch·ªù ƒëƒÉng",
              "displayName": "Ch·ªù ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Gi·ªù ƒëƒÉng b√†i",
              "displayName": "Gi·ªù ƒëƒÉng b√†i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "ƒêƒÉng facebook",
              "displayName": "ƒêƒÉng facebook",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ƒêƒÉng instargram",
              "displayName": "ƒêƒÉng instargram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "displayName": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Link b√†i ƒëƒÉng",
              "displayName": "Link b√†i ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ng√†y c·∫≠p nh·∫≠t driver",
              "displayName": "Ng√†y c·∫≠p nh·∫≠t driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Promt",
              "displayName": "Promt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "M·ª•c ƒë√≠ch",
              "displayName": "M·ª•c ƒë√≠ch",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "T·∫°o content",
              "displayName": "T·∫°o content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "D·ªçn Driver",
              "displayName": "D·ªçn Driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Tr·∫°ng th√°i",
              "displayName": "Tr·∫°ng th√°i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1280,
        80
      ],
      "id": "9617abf2-0d7e-4cbf-b231-7188ecaea4da",
      "name": "Google Sheets"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "9e267076-fd09-4915-9f9f-b1636135563c",
              "leftValue": "={{ $json['Link video'] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        1140,
        80
      ],
      "id": "3f0a65bb-03ac-4694-b7eb-0c26b9232780",
      "name": "Filter"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "c9df5a36-a793-4f19-b039-f4bf0737f2fa",
              "leftValue": "={{ $json['Link ·∫£nh'] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        1140,
        260
      ],
      "id": "35e9bd24-e516-461a-adc7-f33a53dc71ed",
      "name": "Filter1"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "=https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit?usp=sharing",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Dashboard",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1rHSoI-yfDsIjZ_AV70RTy3c7o4TQGss_1CA4Y1bKgRw/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Link ·∫£nh": "={{ $json['Link ·∫£nh'] }}",
            "·∫¢nh n·ªÅn": "={{ $json['·∫¢nh n·ªÅn'] }}",
            "Ng√†y c·∫≠p nh·∫≠t driver": "={{ $json['Ng√†y c·∫≠p nh·∫≠t driver'] }}",
            "Promt": "B·∫°n l√† chuy√™n gia m·∫°ng x√£ h·ªôi v√† Emme l√† m·ªôt brand th·ªùi trang c√¥ng s·ªü. B·∫°n h√£y ph√¢n t√≠ch d·ª±a v√†o h√¨nh ·∫£nh ƒë√≠nh k√®m ƒë·ªÉ tr·∫£ v·ªÅ m·ªôt b√†i vi·∫øt tr√™n n·ªÅn t·∫£ng Facebook ph√π h·ª£p v·ªõi c√°c trang ph·ª•c trong h√¨nh c·ªßa Emme. B√†i vi·∫øt ng·∫Øn ng·ªçn v√† t·∫≠p trung v√†o c·∫£m x√∫c c·ªßa ng∆∞·ªùi ƒë·ªçc nh·∫ßm kh∆°i g·ª£i c√°c y·∫øu t·ªë c√≥ th·ªÉ d·∫´n ƒë·∫øn vi·ªác t√¨m hi·ªÉu s·∫£n ph·∫ßm k·ªπ h∆°n v√† ƒë∆∞a ra c√°c quy·∫øt ƒë·ªãnh mua h√†ng m√† kh√¥ng c·∫ßn ph·∫£i n√≥i qu√° nhi·ªÅu v·ªÅ s·∫£n ph·∫©m v√† qu·∫£ng c√°o th∆∞∆°ng hi·ªáu. ",
            "T·∫°o content": "T·∫°o content"
          },
          "matchingColumns": [
            "Link ·∫£nh"
          ],
          "schema": [
            {
              "id": "Link ·∫£nh",
              "displayName": "Link ·∫£nh",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Link video",
              "displayName": "Link video",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "·∫¢nh n·ªÅn",
              "displayName": "·∫¢nh n·ªÅn",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Acc FB Page",
              "displayName": "Acc FB Page",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Acc ins",
              "displayName": "Acc ins",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ch·ªù ƒëƒÉng",
              "displayName": "Ch·ªù ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Gi·ªù ƒëƒÉng b√†i",
              "displayName": "Gi·ªù ƒëƒÉng b√†i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "ƒêƒÉng facebook",
              "displayName": "ƒêƒÉng facebook",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "ƒêƒÉng instargram",
              "displayName": "ƒêƒÉng instargram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "displayName": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Link b√†i ƒëƒÉng",
              "displayName": "Link b√†i ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ng√†y c·∫≠p nh·∫≠t driver",
              "displayName": "Ng√†y c·∫≠p nh·∫≠t driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Promt",
              "displayName": "Promt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "M·ª•c ƒë√≠ch",
              "displayName": "M·ª•c ƒë√≠ch",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "T·∫°o content",
              "displayName": "T·∫°o content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "D·ªçn Driver",
              "displayName": "D·ªçn Driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Tr·∫°ng th√°i",
              "displayName": "Tr·∫°ng th√°i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1280,
        260
      ],
      "id": "19b18d5c-664f-4cd1-b4ac-26ff14fa965c",
      "name": "Google Sheets1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        1440,
        160
      ],
      "id": "7c08a718-fe2f-45b0-9c37-a7ce3bfc93c1",
      "name": "Merge1"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"·∫¢nh n·ªÅn\": \"=IMAGE(\\\"{{ $('Aggregate multi picture').item.json['Link ·∫£nh'][0] }}\\\";4;50;50)\",\n  \"Ng√†y c·∫≠p nh·∫≠t driver\": \"{{ $('Filter picture/multi picture').item.json.modifiedByMeTime }}\"\n}  ",
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        160
      ],
      "id": "059b277e-c208-4c37-818f-9c6c7d744b57",
      "name": "Edit Fields10"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "44ee5d45-6af2-4205-a361-ed018debcf2a",
              "name": "Link ·∫£nh",
              "value": "={{ $json['Link ·∫£nh'] }}",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        640,
        160
      ],
      "id": "cd86e8d5-c73f-48a8-8976-e40f25e39b22",
      "name": "Edit Fields12"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -360,
        120
      ],
      "id": "78cc1766-301d-4ebe-81f1-bb29ce1f5940",
      "name": "5min/shot"
    },
    {
      "parameters": {
        "mode": "raw",
        "jsonOutput": "={\n  \"·∫¢nh n·ªÅn\": \"=IMAGE(\\\"{{ $json.thumbnailLink }}\\\";4;50;50)\",\n  \"Link video\": \"{{ $json.webViewLink }}\",\n  \"Ng√†y c·∫≠p nh·∫≠t driver\": \"{{ $json.modifiedByMeTime }}\"\n} ",
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        160,
        0
      ],
      "id": "24454bc5-e1fe-402a-8a4c-41df3c8dcf5e",
      "name": "Add picture demo"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "2369eba1-6b68-41a7-be3c-e192e481aeb0",
              "leftValue": "={{ $json.mimeType }}",
              "rightValue": "folder",
              "operator": {
                "type": "string",
                "operation": "regex"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        0,
        200
      ],
      "id": "e1834afe-4393-48e8-8946-40f5e09e2129",
      "name": "Filter picture/multi picture"
    },
    {
      "parameters": {
        "resource": "fileFolder",
        "returnAll": true,
        "filter": {
          "folderId": {
            "__rl": true,
            "value": "={{ $json.id }}",
            "mode": "id"
          }
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        160,
        160
      ],
      "id": "6a3ec66c-de6a-48a3-b443-be0baf213a88",
      "name": "Search multi picture",
      "credentials": {
        "googleDriveOAuth2Api": {
          "id": "ffj1ktwFjvbRQW9V",
          "name": "Google Drive account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "df489715-964d-4ed7-b311-e44538b0902a",
              "name": "Link ·∫£nh",
              "value": "=https://drive.google.com/file/d/{{ $json.id }}/view",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        320,
        160
      ],
      "id": "516c7ee2-1d48-4146-8dcf-acd312754ec6",
      "name": "Convert link id"
    },
    {
      "parameters": {
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "Link ·∫£nh"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        480,
        160
      ],
      "id": "922ce13c-7e3b-4949-be11-e1afe6e80994",
      "name": "Aggregate multi picture"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=Vi·∫øt m·ªôt b√†i vi·∫øt facebook marketing h∆∞ c·∫•u v·ªÅ ch·ªß ƒë·ªÅ: {{ $json.Promt }}\nM·ª•c ƒë√≠ch: {{ $json['M·ª•c ƒë√≠ch'] }}\n* L∆∞u √Ω: Kh√¥ng tr·∫£ v·ªÅ n·ªôi dung c√≥ ch·ª©a smiley, gi·∫£i th√≠ch v√† c√°c th√¥ng tin y√™u c·∫ßu cung c·∫•p th√™m",
        "hasOutputParser": true
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.5,
      "position": [
        260,
        660
      ],
      "id": "3cf04758-a96a-489f-a6b7-ab7a3c28cf2e",
      "name": "Basic LLM Chain1",
      "retryOnFail": true,
      "executeOnce": false,
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.0-pro-exp-02-05",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        260,
        860
      ],
      "id": "29f8afd7-8029-492e-8bd1-7dbe4c2c9096",
      "name": "Google Gemini Chat Model1"
    },
    {
      "parameters": {
        "jsonSchemaExample": "{\n\t\"Content\": \"\"\n}"
      },
      "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
      "typeVersion": 1.2,
      "position": [
        440,
        860
      ],
      "id": "808c5eba-3a6b-4588-97a3-f3544fd3b987",
      "name": "Structured Output Parser"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes",
              "minutesInterval": 1
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -380,
        660
      ],
      "id": "301d0730-4574-4b1b-a005-e3db11af8e77",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit?usp=sharing",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Dashboard",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Content"
            },
            {
              "lookupColumn": "T·∫°o content",
              "lookupValue": "T·∫°o content"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        -220,
        660
      ],
      "id": "f2efa274-cabf-48d3-8957-b1b6e1de80af",
      "name": "Google Sheets12"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "a5ceacde-d695-4971-929e-98369152b145",
              "leftValue": "={{ $json.Promt }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -60,
        660
      ],
      "id": "1efc6979-db5e-4f3a-80d4-d9406462ba1a",
      "name": "Filter2"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        80,
        660
      ],
      "id": "d4c94242-6eec-4e3d-ba50-0635e0ae4563",
      "name": "Loop Over Items4"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit?usp=sharing",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Dashboard",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1rHSoI-yfDsIjZ_AV70RTy3c7o4TQGss_1CA4Y1bKgRw/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "row_number": "={{ $('Loop Over Items4').item.json.row_number }}",
            "Content": "={{ $json.output.Content }}\n______________\nùë¨ùë¥ùë¥ùë¨ | ùë¨ùíé ùíçùíÇÃÄ ùëªùíêÃÇùíä & ùëªùíêÃÇùíä ùíÑùíñÃÉùíèùíà ùíçùíÇÃÄ ùë¨ùíé\n‚ñ™Ô∏è Hotline ƒë·∫∑t h√†ng/h·ªó tr·ª£ gi·∫£i quy·∫øt ƒë∆°n h√†ng: 0775 649499 \n‚ñ™Ô∏è Ph·∫£n √°nh ch·∫•t l∆∞·ª£ng: 087 87 67890\n‚ñ™Ô∏è Website: https://emme.vn\n‚ñ™Ô∏è Instagram: instagram.com/emmevietnam\n‚ñ™Ô∏è Tiktok: https://tiktok.com/@emmevn\n‚ñ™Ô∏è Shopee: shopee.vn/emmevn\n‚ñ™Ô∏è Lazada: lazada.vn/emmevn"
          },
          "matchingColumns": [
            "row_number"
          ],
          "schema": [
            {
              "id": "Link ·∫£nh",
              "displayName": "Link ·∫£nh",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Link video",
              "displayName": "Link video",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "·∫¢nh n·ªÅn",
              "displayName": "·∫¢nh n·ªÅn",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Acc FB Page",
              "displayName": "Acc FB Page",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Acc ins",
              "displayName": "Acc ins",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ch·ªù ƒëƒÉng",
              "displayName": "Ch·ªù ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Gi·ªù ƒëƒÉng b√†i",
              "displayName": "Gi·ªù ƒëƒÉng b√†i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ƒêƒÉng facebook",
              "displayName": "ƒêƒÉng facebook",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ƒêƒÉng instargram",
              "displayName": "ƒêƒÉng instargram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "displayName": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Link b√†i ƒëƒÉng",
              "displayName": "Link b√†i ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ng√†y c·∫≠p nh·∫≠t driver",
              "displayName": "Ng√†y c·∫≠p nh·∫≠t driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Promt",
              "displayName": "Promt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "M·ª•c ƒë√≠ch",
              "displayName": "M·ª•c ƒë√≠ch",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "T·∫°o content",
              "displayName": "T·∫°o content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "D·ªçn Driver",
              "displayName": "D·ªçn Driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Tr·∫°ng th√°i",
              "displayName": "Tr·∫°ng th√°i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        660,
        660
      ],
      "id": "7060d6af-4610-4773-9eb6-b8a0d4eec6b4",
      "name": "Google Sheets13"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "=https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit?gid=0#gid=0",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Dashboard",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit#gid=0"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        -180,
        1260
      ],
      "id": "bb1ff571-718b-43ff-bac6-158a6e55a84c",
      "name": "Google Sheets2",
      "retryOnFail": true
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes",
              "minutesInterval": 2
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        -340,
        1260
      ],
      "id": "468f2617-80cc-4390-a5d0-fd0454c0d482",
      "name": "Schedule Trigger1"
    },
    {
      "parameters": {
        "options": {
          "includeInputFields": true,
          "timezone": "UTC+7"
        }
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        300,
        1260
      ],
      "id": "d1759920-3fbd-4f80-bac1-70028fa8a4e7",
      "name": "Date & Time"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "552f6e95-5f6e-4683-b92f-acfcff7be7a7",
              "name": "Gi·ªù ƒëƒÉng b√†i",
              "value": "={{ $json['Gi·ªù ƒëƒÉng b√†i'].toDateTime().toUTC().format('yyyyMMddHHmm') }}",
              "type": "string"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        140,
        1260
      ],
      "id": "1a87d4d6-fcc4-49db-9772-fc51b1ce53d8",
      "name": "Edit Fields7"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "dee6a864-0de6-4d9f-9fab-7679fb78c3d4",
              "leftValue": "={{ $json['Acc FB Page'] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            },
            {
              "id": "6727759f-3030-410b-bfc0-5285cf42bda1",
              "leftValue": "={{ $json['Gi·ªù ƒëƒÉng b√†i'] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        -20,
        1260
      ],
      "id": "aceb9d59-9551-4f4d-8fe3-314a25dee254",
      "name": "Filter4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "83282e42-73e1-4095-b8e4-114d72eb1c69",
              "leftValue": "={{ $('Date & Time').item.json.currentDate.toDateTime().format('yyyyMMddHHmm').toNumber() }}",
              "rightValue": "={{ $('Edit Fields7').item.json['Gi·ªù ƒëƒÉng b√†i'].toNumber() }}",
              "operator": {
                "type": "number",
                "operation": "gt"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        600,
        1260
      ],
      "id": "b922e838-bc64-4efa-89cb-ce71c83ac9b8",
      "name": "Filter5"
    },
    {
      "parameters": {
        "operation": "formatDate",
        "date": "={{ $json.currentDate }}",
        "format": "custom",
        "customFormat": "yyyy/MM/dd HH:mm",
        "outputFieldName": "currentDate_Lite",
        "options": {
          "includeInputFields": true
        }
      },
      "type": "n8n-nodes-base.dateTime",
      "typeVersion": 2,
      "position": [
        440,
        1260
      ],
      "id": "af907f2d-d214-45c6-998b-5bd3a45ed7bd",
      "name": "Date & Time1"
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "={{ $('Ph√¢n lo·∫°i ·∫£nh hay video').item.json['Link video'] }}",
          "mode": "url"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        2060,
        1740
      ],
      "id": "aca774d2-79c1-4cc6-ac55-fddff5891d1a",
      "name": "Google Drive1"
    },
    {
      "parameters": {
        "hostUrl": "graph-video.facebook.com",
        "httpRequestMethod": "POST",
        "graphApiVersion": "v21.0",
        "node": "me",
        "edge": "video_stories",
        "options": {
          "queryParameters": {
            "parameter": [
              {
                "name": "Content-Type",
                "value": "application/json"
              },
              {
                "name": "upload_phase",
                "value": "start"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.facebookGraphApi",
      "typeVersion": 1,
      "position": [
        1920,
        1740
      ],
      "id": "55f392f8-8891-4162-934a-170134207c17",
      "name": "(*) Credential Page 1"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        1120,
        1260
      ],
      "id": "64ee40ea-6e9e-4873-a9b7-51fd5d0c88e7",
      "name": "Loop Over Items2"
    },
    {
      "parameters": {
        "hostUrl": "graph-video.facebook.com",
        "httpRequestMethod": "POST",
        "graphApiVersion": "v22.0",
        "node": "me",
        "edge": "videos",
        "sendBinaryData": true,
        "binaryPropertyName": "data",
        "options": {
          "queryParameters": {
            "parameter": [
              {
                "name": "url",
                "value": "={{ $json.upload_url }}"
              },
              {
                "name": "offset",
                "value": "0"
              },
              {
                "name": "file_size",
                "value": "1121276"
              },
              {
                "name": "video_state",
                "value": "PUBLISHED"
              },
              {
                "name": "description",
                "value": "={{ $('Ph√¢n lo·∫°i ·∫£nh hay video').item.json.Content }}"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.facebookGraphApi",
      "typeVersion": 1,
      "position": [
        2200,
        1540
      ],
      "id": "043b6ad5-2bd8-41a4-ab94-b234a3e9fe51",
      "name": "(*) Credential Page 1 (ƒêƒÉng video)"
    },
    {
      "parameters": {
        "httpRequestMethod": "POST",
        "graphApiVersion": "v21.0",
        "node": "me",
        "edge": "photos",
        "options": {
          "queryParameters": {
            "parameter": [
              {
                "name": "message",
                "value": "={{ $('Loop Over Items2').item.json.Content }}"
              },
              {
                "name": "url",
                "value": "=https://drive.usercontent.google.com/download?id={{ $json['ID picture'] }}"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.facebookGraphApi",
      "typeVersion": 1,
      "position": [
        2060,
        1340
      ],
      "id": "a7fa9dc6-1cd2-4409-aadc-28a9d19ba37b",
      "name": "(*) Credential page 1 (ƒêƒÉng ·∫£nh)"
    },
    {
      "parameters": {
        "url": "=https://graph.facebook.com/v22.0/{{ $json.id }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "facebookGraphApi",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "fields",
              "value": "status"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2340,
        1540
      ],
      "id": "7a25d34a-dea8-4089-8df0-a142ad7d3857",
      "name": "(*) Check tr·∫°ng th√°i video"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "=https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit?gid=0#gid=0",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "Dashboard",
          "mode": "name"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "ƒêƒÉng facebook": "ƒê√£ ƒëƒÉng",
            "Link video": "={{ $('Ph√¢n lo·∫°i ·∫£nh hay video').item.json['Link video'] }}",
            "Link b√†i ƒëƒÉng": "=https://www.facebook.com/watch/?v={{ $('(*) Credential Page 1 (ƒêƒÉng video)').item.json.id }}",
            "Gi·ªù ƒëƒÉng b√†i": "={{ $('Loop Over Items2').item.json.currentDate_Lite }}"
          },
          "matchingColumns": [
            "Link video"
          ],
          "schema": [
            {
              "id": "Link ·∫£nh",
              "displayName": "Link ·∫£nh",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Link video",
              "displayName": "Link video",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "·∫¢nh n·ªÅn",
              "displayName": "·∫¢nh n·ªÅn",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Acc FB Page",
              "displayName": "Acc FB Page",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Acc ins",
              "displayName": "Acc ins",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ch·ªù ƒëƒÉng",
              "displayName": "Ch·ªù ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Gi·ªù ƒëƒÉng b√†i",
              "displayName": "Gi·ªù ƒëƒÉng b√†i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "ƒêƒÉng facebook",
              "displayName": "ƒêƒÉng facebook",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "ƒêƒÉng instargram",
              "displayName": "ƒêƒÉng instargram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "displayName": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Link b√†i ƒëƒÉng",
              "displayName": "Link b√†i ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Ng√†y c·∫≠p nh·∫≠t driver",
              "displayName": "Ng√†y c·∫≠p nh·∫≠t driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Promt",
              "displayName": "Promt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "M·ª•c ƒë√≠ch",
              "displayName": "M·ª•c ƒë√≠ch",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "T·∫°o content",
              "displayName": "T·∫°o content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "D·ªçn Driver",
              "displayName": "D·ªçn Driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Tr·∫°ng th√°i",
              "displayName": "Tr·∫°ng th√°i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        2480,
        1540
      ],
      "id": "389e41c2-138a-4704-87cd-daa61ef078ca",
      "name": "Google Sheets3"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "34ecd2d7-6cba-469f-b2ce-e918a3bcd32d",
              "name": "ID picture",
              "value": "={{ $json['Link ·∫£nh'].replace('/view?usp=drivesdk','').replace('https://drive.google.com/file/d/','') }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1920,
        1340
      ],
      "id": "9803cca5-a808-48f0-a734-c4e7a77734ee",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit?gid=0#gid=0",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Dashboard",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Link b√†i ƒëƒÉng": "=https://www.facebook.com/{{ $json.post_id.replaceAll('_','/posts/') }}",
            "Gi·ªù ƒëƒÉng b√†i": "={{ $('Loop Over Items2').item.json.currentDate_Lite }}",
            "row_number": "={{ $('Loop Over Items2').item.json.row_number }}"
          },
          "matchingColumns": [
            "row_number"
          ],
          "schema": [
            {
              "id": "Link ·∫£nh",
              "displayName": "Link ·∫£nh",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Link video",
              "displayName": "Link video",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "·∫¢nh n·ªÅn",
              "displayName": "·∫¢nh n·ªÅn",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Acc FB Page",
              "displayName": "Acc FB Page",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Acc ins",
              "displayName": "Acc ins",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ch·ªù ƒëƒÉng",
              "displayName": "Ch·ªù ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Gi·ªù ƒëƒÉng b√†i",
              "displayName": "Gi·ªù ƒëƒÉng b√†i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ƒêƒÉng facebook",
              "displayName": "ƒêƒÉng facebook",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ƒêƒÉng instargram",
              "displayName": "ƒêƒÉng instargram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "displayName": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Link b√†i ƒëƒÉng",
              "displayName": "Link b√†i ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ng√†y c·∫≠p nh·∫≠t driver",
              "displayName": "Ng√†y c·∫≠p nh·∫≠t driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Promt",
              "displayName": "Promt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "M·ª•c ƒë√≠ch",
              "displayName": "M·ª•c ƒë√≠ch",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "T·∫°o content",
              "displayName": "T·∫°o content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "D·ªçn Driver",
              "displayName": "D·ªçn Driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Tr·∫°ng th√°i",
              "displayName": "Tr·∫°ng th√°i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        2200,
        1340
      ],
      "id": "e947efde-1d71-45bd-b5cf-65687238bf07",
      "name": "Google Sheets4"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "236feb47-1c9c-4c76-8cb8-ede9aa9ab8b5",
              "leftValue": "={{ $json['Link ·∫£nh'] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            },
            {
              "id": "49b3a6fb-dfbd-4767-93bc-74b75babe2ec",
              "leftValue": "={{ $json['Link video'] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "empty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1500,
        1260
      ],
      "id": "c4332f8e-2ecd-47c9-97aa-d0ac83ed7330",
      "name": "Ph√¢n lo·∫°i ·∫£nh hay video"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json['Acc FB Page'] }}",
                    "rightValue": "emmevnm",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "53cbf7d2-8315-4313-ac3e-05095d345bed"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "emmevnm"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "15d28a77-d39d-4b87-87d3-d4e57afcf4bf",
                    "leftValue": "={{ $json['Acc FB Page'] }}",
                    "rightValue": " viu_store",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": " viu_store"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        1300,
        1260
      ],
      "id": "d144abbc-1c6b-41bb-a363-0edb7a1bf501",
      "name": "L·ª±a ch·ªçn shop ƒëƒÉng"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "8e2c57d5-fa2a-4cc8-a81e-47b4c073ebeb",
              "leftValue": "={{ $json['Acc FB Page'] }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notEmpty",
                "singleValue": true
              }
            },
            {
              "id": "0614ec80-9514-4bc6-bfd0-075eb95a01c4",
              "leftValue": "={{ $json['ƒêƒÉng facebook'] }}",
              "rightValue": "ƒê√£ ƒëƒÉng",
              "operator": {
                "type": "string",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.filter",
      "typeVersion": 2.2,
      "position": [
        880,
        1260
      ],
      "id": "879a0f54-bff7-43e1-a592-ac14cca62264",
      "name": "Filter6"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "33b40ce5-16eb-400e-aa85-5d641f6501a0",
              "leftValue": "={{ $json['Link ·∫£nh'].extractUrl() }}",
              "rightValue": "=\"]",
              "operator": {
                "type": "string",
                "operation": "regex"
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1700,
        1160
      ],
      "id": "e599644f-7eb4-4365-a41d-1c4798f4392f",
      "name": "If1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c0946e3d-e00d-44ef-9af4-447f24181fee",
              "name": "Link ·∫£nh",
              "value": "={{ $json['Link ·∫£nh'].replaceAll('https://drive.google.com/file/d/','https://drive.usercontent.google.com/u/0/uc?id=').replaceAll('/view','&export=download') }}",
              "type": "array"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1900,
        1140
      ],
      "id": "221a80b7-56c2-48de-a89f-d595f99db39f",
      "name": "Edit Fields8"
    },
    {
      "parameters": {
        "fieldToSplitOut": "['Link ·∫£nh']",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        2060,
        1140
      ],
      "id": "575c0ce7-3d08-4d10-a042-facccd5f3265",
      "name": "Split Out"
    },
    {
      "parameters": {
        "httpRequestMethod": "POST",
        "graphApiVersion": "v22.0",
        "node": "me",
        "edge": "photos",
        "options": {
          "queryParameters": {
            "parameter": [
              {
                "name": "url",
                "value": "={{ $json['[\\'Link ·∫£nh\\']'] }}"
              },
              {
                "name": "published",
                "value": "false"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.facebookGraphApi",
      "typeVersion": 1,
      "position": [
        2200,
        1140
      ],
      "id": "3c69588e-f53e-403d-a0ad-fe6d21b6bf72",
      "name": "Facebook Graph API4"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "7e90d32e-e12d-4b42-b380-a1632149657a",
              "name": "ID ·∫£nh",
              "value": "={\"media_fbid\":\"{{ $json.id }}\"}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2340,
        1140
      ],
      "id": "b2242800-fe1e-4b65-bdad-3b3c6980fc70",
      "name": "Edit Fields9"
    },
    {
      "parameters": {
        "httpRequestMethod": "POST",
        "graphApiVersion": "v22.0",
        "node": "me",
        "edge": "feed",
        "options": {
          "queryParameters": {
            "parameter": [
              {
                "name": "message",
                "value": "={{ $('Loop Over Items2').item.json.Content }}"
              },
              {
                "name": "attached_media",
                "value": "={{ $json['ID ·∫£nh'].toJsonString() }}"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.facebookGraphApi",
      "typeVersion": 1,
      "position": [
        2660,
        1140
      ],
      "id": "42ef9b0b-0f7d-495e-8553-5c9307c2d82e",
      "name": "Facebook Graph API5",
      "executeOnce": true
    },
    {
      "parameters": {
        "fieldsToAggregate": {
          "fieldToAggregate": [
            {
              "fieldToAggregate": "ID ·∫£nh"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.aggregate",
      "typeVersion": 1,
      "position": [
        2500,
        1140
      ],
      "id": "73b6f41e-1f1a-4efd-b5e4-8f1825167bf7",
      "name": "Aggregate"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As",
          "mode": "list",
          "cachedResultName": "TestPost",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Dashboard",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1rHSoI-yfDsIjZ_AV70RTy3c7o4TQGss_1CA4Y1bKgRw/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Link ·∫£nh": "={{ $('Loop Over Items2').item.json['Link ·∫£nh'] }}",
            "ƒêƒÉng facebook": "ƒê√£ ƒëƒÉng",
            "Link b√†i ƒëƒÉng": "=https://www.facebook.com/{{ $json.id.replaceAll('_','/posts/') }}",
            "Gi·ªù ƒëƒÉng b√†i": "={{ $('Loop Over Items2').item.json.currentDate_Lite }}"
          },
          "matchingColumns": [
            "Link ·∫£nh"
          ],
          "schema": [
            {
              "id": "Link ·∫£nh",
              "displayName": "Link ·∫£nh",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Link video",
              "displayName": "Link video",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "·∫¢nh n·ªÅn",
              "displayName": "·∫¢nh n·ªÅn",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ng√†y c·∫≠p nh·∫≠t driver",
              "displayName": "Ng√†y c·∫≠p nh·∫≠t driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ch·ªù ƒëƒÉng",
              "displayName": "Ch·ªù ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Acc ins",
              "displayName": "Acc ins",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Acc FB Page",
              "displayName": "Acc FB Page",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ƒêƒÉng facebook",
              "displayName": "ƒêƒÉng facebook",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ƒêƒÉng instargram",
              "displayName": "ƒêƒÉng instargram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "T·∫°o content",
              "displayName": "T·∫°o content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Gi·ªù ƒëƒÉng b√†i",
              "displayName": "Gi·ªù ƒëƒÉng b√†i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Link b√†i ƒëƒÉng",
              "displayName": "Link b√†i ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        2820,
        1140
      ],
      "id": "8502de14-c267-475e-9e22-91c1c0539b7c",
      "name": "Google Sheets5"
    },
    {
      "parameters": {
        "numberInputs": 4
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        2860,
        1520
      ],
      "id": "fdf8ff61-d816-4b2b-88e9-16b286d54ea9",
      "name": "Merge2"
    },
    {
      "parameters": {
        "hostUrl": "graph-video.facebook.com",
        "httpRequestMethod": "POST",
        "graphApiVersion": "v21.0",
        "node": "me",
        "edge": "video_reels",
        "options": {
          "queryParameters": {
            "parameter": [
              {
                "name": "Content-Type",
                "value": "application/json"
              },
              {
                "name": "upload_phase",
                "value": "start"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.facebookGraphApi",
      "typeVersion": 1,
      "position": [
        1920,
        1540
      ],
      "id": "ac6b139f-c63f-4191-8511-c42402d470ac",
      "name": "(*) Credential Page "
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "fed1b110-81a0-4631-affe-952fc824e2aa",
                    "leftValue": "={{ $json['D·∫°ng ƒëƒÉng FB (video < 60s)'] }}",
                    "rightValue": "Reels",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Reels"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json['D·∫°ng ƒëƒÉng FB (video < 60s)'] }}",
                    "rightValue": "Stories",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "940e74d5-b94c-4e2f-9a36-bfb0a9834849"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Stories"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        1700,
        1560
      ],
      "id": "ec36f6fa-313b-4278-bb5c-c4d61ee55a16",
      "name": "Switch"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "={{ $json.upload_url }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "facebookGraphApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "offset",
              "value": "0"
            },
            {
              "name": "file_size",
              "value": "9579734"
            }
          ]
        },
        "sendBody": true,
        "contentType": "binaryData",
        "inputDataFieldName": "data",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2200,
        1740
      ],
      "id": "c247f334-8c57-4185-9dc8-2941bf1e1c2d",
      "name": "HTTP Request3"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://graph.facebook.com/v22.0/ 105572255141755/video_stories",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "facebookGraphApi",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "video_id",
              "value": "={{ $('Google Drive1').item.json.video_id }}"
            },
            {
              "name": "upload_phase",
              "value": "finish"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2480,
        1740
      ],
      "id": "aa3754e4-98bd-4afc-8d9e-41a15e71e35e",
      "name": "HTTP Request8"
    },
    {
      "parameters": {
        "operation": "download",
        "fileId": {
          "__rl": true,
          "value": "={{ $('Ph√¢n lo·∫°i ·∫£nh hay video').item.json['Link video']}}",
          "mode": "url"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleDrive",
      "typeVersion": 3,
      "position": [
        2060,
        1540
      ],
      "id": "c2c4b3fd-7a93-45ef-b1f9-bd67662ad080",
      "name": "Google Drive3"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1IB5J55Bl2JfM3mfr6nZUTzdmERm7uS3u6MdJo-wx0As/edit?gid=0#gid=0",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Dashboard",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1rHSoI-yfDsIjZ_AV70RTy3c7o4TQGss_1CA4Y1bKgRw/edit#gid=0"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "row_number": "={{ $('Switch').item.json.row_number }}",
            "ƒêƒÉng facebook": "ƒê√£ ƒëƒÉng",
            "Link b√†i ƒëƒÉng": "=https://www.facebook.com/stories/105525671575429"
          },
          "matchingColumns": [
            "row_number"
          ],
          "schema": [
            {
              "id": "Link ·∫£nh",
              "displayName": "Link ·∫£nh",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Link video",
              "displayName": "Link video",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "·∫¢nh n·ªÅn",
              "displayName": "·∫¢nh n·ªÅn",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Content",
              "displayName": "Content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Acc FB Page",
              "displayName": "Acc FB Page",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Acc ins",
              "displayName": "Acc ins",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ch·ªù ƒëƒÉng",
              "displayName": "Ch·ªù ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Gi·ªù ƒëƒÉng b√†i",
              "displayName": "Gi·ªù ƒëƒÉng b√†i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ƒêƒÉng facebook",
              "displayName": "ƒêƒÉng facebook",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "ƒêƒÉng instargram",
              "displayName": "ƒêƒÉng instargram",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "displayName": "D·∫°ng ƒëƒÉng FB (video < 60s)",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Link b√†i ƒëƒÉng",
              "displayName": "Link b√†i ƒëƒÉng",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Ng√†y c·∫≠p nh·∫≠t driver",
              "displayName": "Ng√†y c·∫≠p nh·∫≠t driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Promt",
              "displayName": "Promt",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "M·ª•c ƒë√≠ch",
              "displayName": "M·ª•c ƒë√≠ch",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "T·∫°o content",
              "displayName": "T·∫°o content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "D·ªçn Driver",
              "displayName": "D·ªçn Driver",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Tr·∫°ng th√°i",
              "displayName": "Tr·∫°ng th√°i",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        2640,
        1740
      ],
      "id": "6c7f5152-1614-4019-b37a-da71d9d07abb",
      "name": "Google Sheets17"
    },
    {
      "parameters": {
        "url": "=https://graph.facebook.com/v22.0/{{ $('(*) Credential Page 1').item.json.video_id }}",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "facebookGraphApi",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "fields",
              "value": "status"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2340,
        1740
      ],
      "id": "d38c607b-ddd7-4c14-a5aa-c6608033536a",
      "name": "HTTP Request1"
    }
  ],
  "pinData": {
    "Schedule Trigger1": [
      {
        "json": {
          "timestamp": "2025-02-27T11:36:08.002-05:00",
          "Readable date": "February 27th 2025, 11:36:08 am",
          "Readable time": "11:36:08 am",
          "Day of week": "Thursday",
          "Year": "2025",
          "Month": "February",
          "Day of month": "27",
          "Hour": "11",
          "Minute": "36",
          "Second": "08",
          "Timezone": "America/New_York (UTC-05:00)"
        }
      }
    ]
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2025-03-27T08:37:48.000Z",
  "versionId": "b28a0677-b439-4baf-94b8-b87250767e65"
}